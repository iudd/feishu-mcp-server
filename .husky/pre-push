#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# 在推送前运行类型检查
echo "📝 运行TypeScript类型检查..."
tsc --noEmit || exit 1

# 尝试构建项目以验证变更不会破坏构建
echo "🏗️ 验证项目构建..."
pnpm build || exit 1

echo "✅ 验证通过，准备推送代码" 